import{s as j,B as v,f as B,g as F,h as M,d as D,j as E,i as N,C as O,D as z,E as G,P as H,o as I,O as J,p as K}from"./scheduler.f6e53d32.js";import{S as Q,i as R,a as U,t as V}from"./index.c26f0603.js";function W(r){let s,n,o;const _=r[9].default,a=v(_,r,r[8],null);return{c(){s=B("span"),a&&a.c(),this.h()},l(e){s=F(e,"SPAN",{class:!0});var l=M(s);a&&a.l(l),l.forEach(D),this.h()},h(){E(s,"class",n=r[0]+r[2])},m(e,l){N(e,s,l),a&&a.m(s,null),r[10](s),o=!0},p(e,[l]){a&&a.p&&(!o||l&256)&&O(a,_,e,e[8],o?G(_,e[8],l,null):z(e[8]),null),(!o||l&5&&n!==(n=e[0]+e[2]))&&E(s,"class",n)},i(e){o||(U(a,e),o=!0)},o(e){V(a,e),o=!1},d(e){e&&D(s),a&&a.d(e),r[10](null)}}}const h=":after/ct='|';c=#000;m=0_-.35_0_-.25;fs=1.5;lh=calc(2em/3)",b="@dark@:after/ct='|';c=#fff;m=0_-.35_0_-.25;fs=1.5;lh=calc(2em/3)",u=":after/a=blink_1s_step-end_infinite";function X(r,s,n){let{$$slots:o={},$$scope:_}=s,{classs:a=""}=s,{selector:e="f"}=s,{bgc:l="--anakiwa"}=s,{dark_bgc:y="--astronaut"}=s,{orders:d=void 0}=s,{duration:m=1e3}=s;const k=H();let T,g,c=0,C=` _${e}/none`;const w=async t=>new Promise(f=>T=setTimeout(f,t)),P=()=>{if(!g)return;const t=g.querySelectorAll(e),f=[];if(d)for(let i=0;i<d.length;i++)f[i]=t[d[i]];else for(let i=0;i<t.length;i++)f[i]=t[i];return f},S=async()=>{const t=P();if(!t)return;const f=t.length,i=t.map(L=>{const A=L.textContent;return L.textContent="",A});for(n(2,C=""),k("starttype",-1),k("endtype",-1),c=0,t[0].classList.add(h,b,u),await w(m),t[0].classList.remove(u);c<f;){k("starttype",c),t[c].classList.add(h,b,"bg="+l,"@dark@bg="+y);for(const L of i[c])t[c].textContent+=L,await w(30);t[c].classList.add(u),k("endtype",c),await w(m),t[c].classList.remove(h,b,u,"bg="+l,"@dark@bg="+y),c++}t[c-1].classList.add(h,b,u),await w(m*2),t[c-1].classList.remove(h,b,u),S()};I(S),J(()=>clearTimeout(T));function q(t){K[t?"unshift":"push"](()=>{g=t,n(1,g)})}return r.$$set=t=>{"classs"in t&&n(0,a=t.classs),"selector"in t&&n(3,e=t.selector),"bgc"in t&&n(4,l=t.bgc),"dark_bgc"in t&&n(5,y=t.dark_bgc),"orders"in t&&n(6,d=t.orders),"duration"in t&&n(7,m=t.duration),"$$scope"in t&&n(8,_=t.$$scope)},[a,g,C,e,l,y,d,m,_,o,q]}class x extends Q{constructor(s){super(),R(this,s,X,W,j,{classs:0,selector:3,bgc:4,dark_bgc:5,orders:6,duration:7})}}export{x as T};
