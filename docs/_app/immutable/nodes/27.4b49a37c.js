import{S as U,i as W,s as F,k as x,_ as K,l as N,m as D,$ as Q,h as d,n as L,b as I,H as C,D as R,G as fe,I as ue,J as me,K as pe,g as k,d as E,o as ae,j as he,w as de,y as T,z as A,A as P,B,E as _e,F as X,L as ge,a as S,c as j,e as z,v as re,f as le,M as ve,R as Z,T as ee,q as G,r as J,u as ie,C as be,Q as we}from"../chunks/index.e72184b5.js";import{H as ye}from"../chunks/H1.b1ed2f7e.js";import{f as O}from"../chunks/store.7ed75e71.js";import{L as ke}from"../chunks/LoadingCircle.a49cc462.js";import{s as Ie}from"../chunks/index.e4ba7d5f.js";import{h as H,k as g,n as a,s as b,b as n,d as w,j as V,c as Ce,t as M,f as y}from"../chunks/highlighter.d5787206.js";import{C as Ee}from"../chunks/ComponentTabView.f2fb59a5.js";import{C as Y}from"../chunks/CodePage.abe9804b.js";import{I as ce}from"../chunks/IdeTypescript.09a660bc.js";function Le(c){let t,s,e,r;return{c(){t=x("div"),s=K("svg"),e=K("path"),r=K("path"),this.h()},l(o){t=N(o,"DIV",{class:!0});var $=D(t);s=Q($,"svg",{xmlns:!0,viewBox:!0});var l=D(s);e=Q(l,"path",{d:!0}),D(e).forEach(d),r=Q(l,"path",{d:!0,fill:!0}),D(r).forEach(d),l.forEach(d),$.forEach(d),this.h()},h(){L(e,"d","M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"),L(r,"d","M0 0h24v24H0z"),L(r,"fill","none"),L(s,"xmlns","http://www.w3.org/2000/svg"),L(s,"viewBox","0 0 24 24"),L(t,"class",c[0])},m(o,$){I(o,t,$),C(t,s),C(s,e),C(s,r)},p(o,[$]){$&1&&L(t,"class",o[0])},i:R,o:R,d(o){o&&d(t)}}}function De(c,t,s){let{classs:e=""}=t;return c.$$set=r=>{"classs"in r&&s(0,e=r.classs)},[e]}class Ve extends U{constructor(t){super(),W(this,t,De,Le,F,{classs:0})}}function He(c){let t,s,e;const r=c[5].default,o=fe(r,c,c[4],null);return{c(){t=x("div"),o&&o.c(),this.h()},l($){t=N($,"DIV",{class:!0});var l=D(t);o&&o.l(l),l.forEach(d),this.h()},h(){L(t,"class",s="o=auto "+c[0])},m($,l){I($,t,l),o&&o.m(t,null),c[6](t),e=!0},p($,[l]){o&&o.p&&(!e||l&16)&&ue(o,r,$,$[4],e?pe(r,$[4],l,null):me($[4]),null),(!e||l&1&&s!==(s="o=auto "+$[0]))&&L(t,"class",s)},i($){e||(k(o,$),e=!0)},o($){E(o,$),e=!1},d($){$&&d(t),o&&o.d($),c[6](null)}}}function Me(c,t,s){let{$$slots:e={},$$scope:r}=t,{classs:o=""}=t,{ready:$}=t,{onlast:l}=t,f,v;ae(()=>{v=new IntersectionObserver(_=>{_[0].isIntersecting&&(v.unobserve(_[0].target),l())},{root:f,threshold:0})}),he(()=>{$&&f.lastElementChild&&v.observe(f.lastElementChild)});function m(_){de[_?"unshift":"push"](()=>{f=_,s(1,f)})}return c.$$set=_=>{"classs"in _&&s(0,o=_.classs),"ready"in _&&s(2,$=_.ready),"onlast"in _&&s(3,l=_.onlast),"$$scope"in _&&s(4,r=_.$$scope)},[o,f,$,l,r,e,m]}class Se extends U{constructor(t){super(),W(this,t,Me,He,F,{classs:0,ready:2,onlast:3})}}function $e(c,t,s){const e=c.slice();return e[7]=t[s],e}function je(c){let t=c[7].title+"",s;return{c(){s=G(t)},l(e){s=J(e,t)},m(e,r){I(e,s,r)},p(e,r){r&2&&t!==(t=e[7].title+"")&&ie(s,t)},d(e){e&&d(s)}}}function oe(c){let t,s,e,r,o=c[7].content+"",$,l;return s=new ye({props:{$$slots:{default:[je]},$$scope:{ctx:c}}}),{c(){t=x("div"),T(s.$$.fragment),e=S(),r=x("span"),$=G(o)},l(f){t=N(f,"DIV",{});var v=D(t);A(s.$$.fragment,v),e=j(v),r=N(v,"SPAN",{});var m=D(r);$=J(m,o),m.forEach(d),v.forEach(d)},m(f,v){I(f,t,v),P(s,t,null),C(t,e),C(t,r),C(r,$),l=!0},p(f,v){const m={};v&1026&&(m.$$scope={dirty:v,ctx:f}),s.$set(m),(!l||v&2)&&o!==(o=f[7].content+"")&&ie($,o)},i(f){l||(k(s.$$.fragment,f),l=!0)},o(f){E(s.$$.fragment,f),l=!1},d(f){f&&d(t),B(s)}}}function Te(c){let t,s,e,r,o,$,l,f,v;return e=new Ve({props:{classs:"f=#88888888"}}),{c(){t=x("div"),s=x("div"),T(e.$$.fragment),r=S(),o=x("button"),$=G("server error"),this.h()},l(m){t=N(m,"DIV",{class:!0});var _=D(t);s=N(_,"DIV",{class:!0});var i=D(s);A(e.$$.fragment,i),i.forEach(d),r=j(_),o=N(_,"BUTTON",{class:!0});var h=D(o);$=J(h,"server error"),h.forEach(d),_.forEach(d),this.h()},h(){L(s,"class","w=6 absolute"),L(o,"class","absolute fs=1.5 bold"),L(t,"class","relative flex h=6.5 jc=center ai=center")},m(m,_){I(m,t,_),C(t,s),P(e,s,null),C(t,r),C(t,o),C(o,$),l=!0,f||(v=be(o,"click",c[5]),f=!0)},p:R,i(m){l||(k(e.$$.fragment,m),l=!0)},o(m){E(e.$$.fragment,m),l=!1},d(m){m&&d(t),B(e),f=!1,v()}}}function Ae(c){let t,s,e;return s=new ke({}),{c(){t=x("div"),T(s.$$.fragment),this.h()},l(r){t=N(r,"DIV",{class:!0});var o=D(t);A(s.$$.fragment,o),o.forEach(d),this.h()},h(){L(t,"class","flex h=6.5 jc=center")},m(r,o){I(r,t,o),P(s,t,null),e=!0},p:R,i(r){e||(k(s.$$.fragment,r),e=!0)},o(r){E(s.$$.fragment,r),e=!1},d(r){r&&d(t),B(s)}}}function Pe(c){let t,s,e,r,o,$=c[1],l=[];for(let i=0;i<$.length;i+=1)l[i]=oe($e(c,$,i));const f=i=>E(l[i],1,1,()=>{l[i]=null}),v=[Ae,Te],m=[];function _(i,h){return i[0]?i[0]===2?1:-1:0}return~(s=_(c))&&(e=m[s]=v[s](c)),{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=S(),e&&e.c(),r=z()},l(i){for(let h=0;h<l.length;h+=1)l[h].l(i);t=j(i),e&&e.l(i),r=z()},m(i,h){for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(i,h);I(i,t,h),~s&&m[s].m(i,h),I(i,r,h),o=!0},p(i,h){if(h&2){$=i[1];let u;for(u=0;u<$.length;u+=1){const q=$e(i,$,u);l[u]?(l[u].p(q,h),k(l[u],1)):(l[u]=oe(q),l[u].c(),k(l[u],1),l[u].m(t.parentNode,t))}for(re(),u=$.length;u<l.length;u+=1)f(u);le()}let p=s;s=_(i),s===p?~s&&m[s].p(i,h):(e&&(re(),E(m[p],1,1,()=>{m[p]=null}),le()),~s?(e=m[s],e?e.p(i,h):(e=m[s]=v[s](i),e.c()),k(e,1),e.m(r.parentNode,r)):e=null)},i(i){if(!o){for(let h=0;h<$.length;h+=1)k(l[h]);k(e),o=!0}},o(i){l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)E(l[h]);E(e),o=!1},d(i){ve(l,i),i&&d(t),~s&&m[s].d(i),i&&d(r)}}}function Be(c){let t,s;return{c(){t=new Z(!1),s=z(),this.h()},l(e){t=ee(e,!1),s=z(),this.h()},h(){t.a=s},m(e,r){t.m(c[2],e,r),I(e,s,r)},p:R,d(e){e&&d(s),e&&t.d()}}}function xe(c){let t,s,e,r,o;return t=new ce({props:{name:"store"}}),{c(){T(t.$$.fragment),s=S(),e=new Z(!1),r=z(),this.h()},l($){A(t.$$.fragment,$),s=j($),e=ee($,!1),r=z(),this.h()},h(){e.a=r},m($,l){P(t,$,l),I($,s,l),e.m(c[3],$,l),I($,r,l),o=!0},p:R,i($){o||(k(t.$$.fragment,$),o=!0)},o($){E(t.$$.fragment,$),o=!1},d($){B(t,$),$&&d(s),$&&d(r),$&&e.d()}}}function Ne(c){let t,s,e,r,o,$;return s=new ce({props:{name:"index"}}),{c(){t=G("styles / "),T(s.$$.fragment),e=S(),r=new Z(!1),o=z(),this.h()},l(l){t=J(l,"styles / "),A(s.$$.fragment,l),e=j(l),r=ee(l,!1),o=z(),this.h()},h(){r.a=o},m(l,f){I(l,t,f),P(s,l,f),I(l,e,f),r.m(c[4],l,f),I(l,o,f),$=!0},p:R,i(l){$||(k(s.$$.fragment,l),$=!0)},o(l){E(s.$$.fragment,l),$=!1},d(l){l&&d(t),B(s,l),l&&d(e),l&&d(o),l&&r.d()}}}function Re(c){let t,s,e,r,o,$,l,f,v,m,_,i,h;return t=new Se({props:{classs:"bd=1px_solid_black xh=15 "+Ie.scrollbar.primary,onlast:c[5],ready:c[0]===1,$$slots:{default:[Pe]},$$scope:{ctx:c}}}),r=new Y({props:{isCode:!0,$$slots:{default:[Be]},$$scope:{ctx:c}}}),f=new Y({props:{isCode:!0,$$slots:{default:[xe]},$$scope:{ctx:c}}}),i=new Y({props:{isCode:!0,$$slots:{default:[Ne]},$$scope:{ctx:c}}}),{c(){T(t.$$.fragment),s=S(),e=x("div"),T(r.$$.fragment),o=S(),$=x("div"),l=S(),T(f.$$.fragment),v=S(),m=x("div"),_=S(),T(i.$$.fragment),this.h()},l(p){A(t.$$.fragment,p),s=j(p),e=N(p,"DIV",{});var u=D(e);A(r.$$.fragment,u),o=j(u),$=N(u,"DIV",{class:!0}),D($).forEach(d),l=j(u),A(f.$$.fragment,u),v=j(u),m=N(u,"DIV",{class:!0}),D(m).forEach(d),_=j(u),A(i.$$.fragment,u),u.forEach(d),this.h()},h(){L($,"class","h=1"),L(m,"class","h=1")},m(p,u){P(t,p,u),I(p,s,u),I(p,e,u),P(r,e,null),C(e,o),C(e,$),C(e,l),P(f,e,null),C(e,v),C(e,m),C(e,_),P(i,e,null),h=!0},p(p,u){const q={};u&1&&(q.ready=p[0]===1),u&1027&&(q.$$scope={dirty:u,ctx:p}),t.$set(q);const te={};u&1024&&(te.$$scope={dirty:u,ctx:p}),r.$set(te);const se={};u&1024&&(se.$$scope={dirty:u,ctx:p}),f.$set(se);const ne={};u&1024&&(ne.$$scope={dirty:u,ctx:p}),i.$set(ne)},i(p){h||(k(t.$$.fragment,p),k(r.$$.fragment,p),k(f.$$.fragment,p),k(i.$$.fragment,p),h=!0)},o(p){E(t.$$.fragment,p),E(r.$$.fragment,p),E(f.$$.fragment,p),E(i.$$.fragment,p),h=!1},d(p){B(t,p),p&&d(s),p&&d(e),B(r),B(f),B(i)}}}function ze(c){let t,s;return t=new Ee({props:{$$slots:{default:[Re]},$$scope:{ctx:c}}}),{c(){T(t.$$.fragment)},l(e){A(t.$$.fragment,e)},m(e,r){P(t,e,r),s=!0},p(e,[r]){const o={};r&1027&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){s||(k(t.$$.fragment,e),s=!0)},o(e){E(t.$$.fragment,e),s=!1},d(e){B(t,e)}}}function qe(c,t,s){let e;_e(c,O,m=>s(1,e=m));const r=`${H("script",` ${a("lang")}=${b("ts")}`,`
${g("import")} ${a("H1")} ${g("from")} ${b("cells/typography/H1.svelte")}
${g("import")} ${a("InfiniteScroll")} ${g("from")} ${b("organs/@common/utils/InfiniteScroll.svelte")}
${g("import")} ${a("IRefresh")} ${g("from")} ${b("cells/svgs/i_refresh.svelte")}
${g("import")} ${a("LoadingCircle")} ${g("from")} ${b("src/instant-ui/animations/LoadingCircle.svelte")}
${g("import")} ${a("styles")} ${g("from")} ${b("src/styles")}
${g("import")} ${n("{")} ${a("contents$")} ${n("}")} ${g("from")} ${b("parts/ref/store")}
${g("import")} ${n("{")} ${a("onDestroy")}, ${a("onMount")} ${n("}")} ${g("from")} ${b("svelte")}

${w("let")} ${a("loading")} = ${V(1)} ${Ce("// 0: in progress, 1: none, 2: error")}
${w("const")} ${a("loremApi",!0)}: ${n("(")}${a("i")}: ${M("number")}, ${a("n")}: ${M("number")}${n(")")} ${w("=>")} ${M("Promise")}${n("<")}${M("any")}${n(">")} = ${n("(")}${a("i")}: ${M("number")}, ${a("n")}: ${M("number")}${n(")")} ${w("=>")} ${w("new")} ${M("Promise")}${n("(")}${n("(",1)}${y("resolve")}, ${y("reject")}${n(")",1)} ${w("=>")} ${y("setTimeout")}${n("(",1)}${n("()",2)} ${w("=>")} ${n("{",2)}
	${w("const")} ${a("r",!0)} = ${a("Math")}.${y("random")}${n("()")}
	${g("if")} ${n("(")}${a("i")} && ${a("r",!0)} < ${V(.3)}${n(") {")}
		${y("reject")}${n("(",1)}${b("`error:",!1)} ${w("${")}${a("r",!0)}${w("}")} ${b("< 0.3`",!1)}${n(")",1)}
	${n("}")} ${g("else")} ${n("{")}
		${w("const")} ${a("contents",!0)} = ${n("[]",1)}
		${g("while")} ${n("(",1)}${a("n")}-- > ${V(0)}${n(") {",1)}
			${a("contents",!0)}.${y("push")}${n("(",2)}${n("{")} ${a("title:")} ${b("title ")} + ++${a("i")}, ${a("content:")} ${b("Lorem Ipsum is . . . . . . of Lorem Ipsum.")} ${n("}")}${n(")",2)}
		${n("}",1)}
		${y("resolve")}${n("(",1)}${a("contents",!0)}${n(")",1)}
	${n("}",0)}
${n("}",2)}, ${a("i")} ? ${V(600)} : ${V(0)}${n(")",1)}${n(")")}
${w("const")} ${y("loadContents")} = ${n("()")} ${w("=>")} ${n("{")}
	${g("if")} ${n("(",1)}${a("loading")}${n(") {",1)}
		${a("loading")} = ${V(0)}
		${a("loremApi",!0)}.${y("promise")}${n("(",2)}${a("$contents$")}.${a("length")}, ${V(5)}${n(")",2)}
			.${y("set")}${n("(",2)}${a("value")} ${w("=>")} ${n("{")}
				${a("$contents$")} = ${a("$contents$")}.${y("concat")}${n("(",1)}${a("value")}${n(")",1)}
				${a("loading")} = ${V(1)}
			${n("}")}${n(")",2)}
			.${y("catch")}${n("(",2)}${n("()")} ${w("=>")} ${a("loading")} = ${V(2)}${n(")",2)}
	${n("}",1)}
${n("}")}
${y("onMount")}${n("(")}${n("()",1)} ${w("=>")} ${a("loremApi",!0)}.${y("promise")}${n("(",1)}${V(0)}, ${V(10)}${n(")",1)}.${y("then")}${n("(",1)}${a("value")} ${w("=>")} ${a("$contents$")} = ${a("value")}${n(")",1)}${n(")")}
${y("onDestroy")}${n("(")}${n("()",1)} ${w("=>")} ${a("$contents$")} = ${n("[]",1)}${n(")")}
`)}

${H("InfiniteScroll",` ${a("classs")}=${b('"bd=1px_solid_black xh=15',!1)} ${n("{",2)}${a("styles")}.${a("scrollbar")}.${a("primary")}${n("}",2)}${b('"',!1)}
		${a("onlast")}=${n("{")}${y("loadContents")}${n("}")}
		${a("ready")}=${n("{")}${a("loading")} === ${V(1)}${n("}")}`,`
	${n("{")}#${g("each")} ${a("$contents$")} ${g("as")} ${a("c")}${n("}")}
		${H("div","",`
			${H("H1","",`${n("{")}${a("c")}.${a("title")}${n("}")}`)}
			${H("span","",`${n("{")}${a("c")}.${a("content")}${n("}")}`)}
		`)}
	${n("{")}/${g("each")}${n("}")}
	${n("{")}#${g("if")} !${a("loading")}${n("}")}
		${H("div",` ${a("class")}=${b("flex h=6.5 jc=center")}`,`
			${H("LoadingCircle","",!1)}
		`)}
	${n("{")}:${g("else if")} ${a("loading")} === ${V(2)}${n("}")}
		${H("div",` ${a("class")}=${b("relative flex h=6.5 jc=center ai=center")}`,`
			${H("div",` ${a("class")}=${b("w=6 absolute")}`,`
				${H("IRefresh",` ${a("classs")}=${b("f=#88888888")}`,!1)}
			`)}
			${H("button",` ${a("class")}=${b("absolute fs=1.5 bold")} ${g("on")}:${M("click")}=${n("{")}${y("loadContents")}${n("}")}`,"server error")}
		`)}
	${n("{")}/${g("if")}${n("}")}
`)}`,o=`

${g("import")} ${n("{")} ${a("writable")}, ${g("type")} ${a("Writable")} ${n("}")} ${g("from")} ${b("svelte/store")}

${g("export")} ${w("const")} ${a("contents$",!0)}: ${M("Writable")}${n("<")}${n("{",1)} ${a("title")}: ${M("string")}, ${a("content")}: ${M("string")} ${n("}[]",1)}${n(")")} = ${y("writable")}${n("(")}${n("[]",1)}${n(")")}`,$=`

${g("export default")} ${n("{")}
	${a("scrollbar:")} ${n("{",1)}
		${a("primary:")} ${b("::-webkit-scrollbar/w=.5 ::-webkit-scrollbar-track/bg=--primary-55 ::-webkit-scrollbar-thumb/bg=--primary;br=.25")}
	${n("}",1)}
${n("}")}`;let l=1;const f=(m,_)=>new Promise((i,h)=>setTimeout(()=>{const p=Math.random();if(m&&p<.3)h(`error: ${p} < 0.3`);else{const u=[];for(;_-- >0;)u.push({title:"title "+ ++m,content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."});i(u)}},m?600:0)),v=()=>{l&&(s(0,l=0),f(e.length,5).then(m=>{X(O,e=e.concat(m),e),s(0,l=1)}).catch(()=>s(0,l=2)))};return ae(()=>f(0,10).then(m=>X(O,e=m,e))),ge(()=>X(O,e=[],e)),[l,e,r,o,$,v]}class Oe extends U{constructor(t){super(),W(this,t,qe,ze,F,{})}}function Ue(c){let t,s,e;return s=new Oe({}),{c(){t=S(),T(s.$$.fragment),this.h()},l(r){we("svelte-120ri7c",document.head).forEach(d),t=j(r),A(s.$$.fragment,r),this.h()},h(){document.title="Infinite Scroll | Reference"},m(r,o){I(r,t,o),P(s,r,o),e=!0},p:R,i(r){e||(k(s.$$.fragment,r),e=!0)},o(r){E(s.$$.fragment,r),e=!1},d(r){r&&d(t),B(s,r)}}}class et extends U{constructor(t){super(),W(this,t,null,Ue,F,{})}}export{et as component};
