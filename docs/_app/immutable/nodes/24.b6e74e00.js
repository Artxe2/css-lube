import{s as W,f as B,P as J,g as N,h as V,Q as K,d as h,j as E,i as I,y as D,u as z,x as ue,z as me,A as pe,B as he,o as ie,b as de,p as _e,v as ge,w as Q,C as ve,a as H,c as M,e as R,D as be,J as X,K as Y,l as Z,m as ee,n as ce,F as we,r as ye,I as ke}from"../chunks/scheduler.37114a5d.js";import{S as q,i as F,a as k,t as C,b as P,d as j,m as A,e as T,g as re,c as le}from"../chunks/index.80e0ab0e.js";import{e as $e}from"../chunks/each.e5cbc508.js";import{H as Ie}from"../chunks/H1.5b1a0697.js";import{f as U}from"../chunks/store.f24e6a61.js";import{L as Ce}from"../chunks/LoadingCircle.e3e31bb8.js";import{s as Ee}from"../chunks/index.00bbd8d4.js";import{h as x,k as _,n as a,s as b,b as n,d as w,i as L,c as De,t as S,f as y}from"../chunks/highlighter.e3fc48dc.js";import{C as Le}from"../chunks/ComponentTabView.d9ff6e19.js";import{C as G}from"../chunks/CodePage.aad8268b.js";import{I as fe}from"../chunks/IdeTypescript.e79d33ca.js";function Ve(c){let t,s,e,r;return{c(){t=B("div"),s=J("svg"),e=J("path"),r=J("path"),this.h()},l($){t=N($,"DIV",{class:!0});var o=V(t);s=K(o,"svg",{xmlns:!0,viewBox:!0});var l=V(s);e=K(l,"path",{d:!0}),V(e).forEach(h),r=K(l,"path",{d:!0,fill:!0}),V(r).forEach(h),l.forEach(h),o.forEach(h),this.h()},h(){E(e,"d","M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"),E(r,"d","M0 0h24v24H0z"),E(r,"fill","none"),E(s,"xmlns","http://www.w3.org/2000/svg"),E(s,"viewBox","0 0 24 24"),E(t,"class",c[0])},m($,o){I($,t,o),D(t,s),D(s,e),D(s,r)},p($,[o]){o&1&&E(t,"class",$[0])},i:z,o:z,d($){$&&h(t)}}}function xe(c,t,s){let{classs:e=""}=t;return c.$$set=r=>{"classs"in r&&s(0,e=r.classs)},[e]}class Se extends q{constructor(t){super(),F(this,t,xe,Ve,W,{classs:0})}}function He(c){let t,s,e;const r=c[5].default,$=ue(r,c,c[4],null);return{c(){t=B("div"),$&&$.c(),this.h()},l(o){t=N(o,"DIV",{class:!0});var l=V(t);$&&$.l(l),l.forEach(h),this.h()},h(){E(t,"class",s="o=auto "+c[0])},m(o,l){I(o,t,l),$&&$.m(t,null),c[6](t),e=!0},p(o,[l]){$&&$.p&&(!e||l&16)&&me($,r,o,o[4],e?he(r,o[4],l,null):pe(o[4]),null),(!e||l&1&&s!==(s="o=auto "+o[0]))&&E(t,"class",s)},i(o){e||(k($,o),e=!0)},o(o){C($,o),e=!1},d(o){o&&h(t),$&&$.d(o),c[6](null)}}}function Me(c,t,s){let{$$slots:e={},$$scope:r}=t,{classs:$=""}=t,{ready:o}=t,{onlast:l}=t,f,v;ie(()=>{v=new IntersectionObserver(d=>{d[0].isIntersecting&&(v.unobserve(d[0].target),l())},{root:f,threshold:0})}),de(()=>{o&&f.lastElementChild&&v.observe(f.lastElementChild)});function m(d){_e[d?"unshift":"push"](()=>{f=d,s(1,f)})}return c.$$set=d=>{"classs"in d&&s(0,$=d.classs),"ready"in d&&s(2,o=d.ready),"onlast"in d&&s(3,l=d.onlast),"$$scope"in d&&s(4,r=d.$$scope)},[$,f,o,l,r,e,m]}class Pe extends q{constructor(t){super(),F(this,t,Me,He,W,{classs:0,ready:2,onlast:3})}}function oe(c,t,s){const e=c.slice();return e[7]=t[s],e}function je(c){let t=c[7].title+"",s;return{c(){s=Z(t)},l(e){s=ee(e,t)},m(e,r){I(e,s,r)},p(e,r){r&2&&t!==(t=e[7].title+"")&&ce(s,t)},d(e){e&&h(s)}}}function ae(c){let t,s,e,r,$=c[7].content+"",o,l;return s=new Ie({props:{$$slots:{default:[je]},$$scope:{ctx:c}}}),{c(){t=B("div"),P(s.$$.fragment),e=H(),r=B("span"),o=Z($)},l(f){t=N(f,"DIV",{});var v=V(t);j(s.$$.fragment,v),e=M(v),r=N(v,"SPAN",{});var m=V(r);o=ee(m,$),m.forEach(h),v.forEach(h)},m(f,v){I(f,t,v),A(s,t,null),D(t,e),D(t,r),D(r,o),l=!0},p(f,v){const m={};v&1026&&(m.$$scope={dirty:v,ctx:f}),s.$set(m),(!l||v&2)&&$!==($=f[7].content+"")&&ce(o,$)},i(f){l||(k(s.$$.fragment,f),l=!0)},o(f){C(s.$$.fragment,f),l=!1},d(f){f&&h(t),T(s)}}}function Ae(c){let t,s,e,r,$,o="server error",l,f,v;return e=new Se({props:{classs:"f=#88888888"}}),{c(){t=B("div"),s=B("div"),P(e.$$.fragment),r=H(),$=B("button"),$.textContent=o,this.h()},l(m){t=N(m,"DIV",{class:!0});var d=V(t);s=N(d,"DIV",{class:!0});var i=V(s);j(e.$$.fragment,i),i.forEach(h),r=M(d),$=N(d,"BUTTON",{class:!0,"data-svelte-h":!0}),we($)!=="svelte-1assxk0"&&($.textContent=o),d.forEach(h),this.h()},h(){E(s,"class","w=6 absolute"),E($,"class","absolute fs=1.5 bold"),E(t,"class","relative flex h=6.5 jc=center ai=center")},m(m,d){I(m,t,d),D(t,s),A(e,s,null),D(t,r),D(t,$),l=!0,f||(v=ye($,"click",c[5]),f=!0)},p:z,i(m){l||(k(e.$$.fragment,m),l=!0)},o(m){C(e.$$.fragment,m),l=!1},d(m){m&&h(t),T(e),f=!1,v()}}}function Te(c){let t,s,e;return s=new Ce({}),{c(){t=B("div"),P(s.$$.fragment),this.h()},l(r){t=N(r,"DIV",{class:!0});var $=V(t);j(s.$$.fragment,$),$.forEach(h),this.h()},h(){E(t,"class","flex h=6.5 jc=center")},m(r,$){I(r,t,$),A(s,t,null),e=!0},p:z,i(r){e||(k(s.$$.fragment,r),e=!0)},o(r){C(s.$$.fragment,r),e=!1},d(r){r&&h(t),T(s)}}}function Be(c){let t,s,e,r,$,o=$e(c[1]),l=[];for(let i=0;i<o.length;i+=1)l[i]=ae(oe(c,o,i));const f=i=>C(l[i],1,1,()=>{l[i]=null}),v=[Te,Ae],m=[];function d(i,g){return i[0]?i[0]===2?1:-1:0}return~(s=d(c))&&(e=m[s]=v[s](c)),{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=H(),e&&e.c(),r=R()},l(i){for(let g=0;g<l.length;g+=1)l[g].l(i);t=M(i),e&&e.l(i),r=R()},m(i,g){for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(i,g);I(i,t,g),~s&&m[s].m(i,g),I(i,r,g),$=!0},p(i,g){if(g&2){o=$e(i[1]);let u;for(u=0;u<o.length;u+=1){const O=oe(i,o,u);l[u]?(l[u].p(O,g),k(l[u],1)):(l[u]=ae(O),l[u].c(),k(l[u],1),l[u].m(t.parentNode,t))}for(re(),u=o.length;u<l.length;u+=1)f(u);le()}let p=s;s=d(i),s===p?~s&&m[s].p(i,g):(e&&(re(),C(m[p],1,1,()=>{m[p]=null}),le()),~s?(e=m[s],e?e.p(i,g):(e=m[s]=v[s](i),e.c()),k(e,1),e.m(r.parentNode,r)):e=null)},i(i){if(!$){for(let g=0;g<o.length;g+=1)k(l[g]);k(e),$=!0}},o(i){l=l.filter(Boolean);for(let g=0;g<l.length;g+=1)C(l[g]);C(e),$=!1},d(i){i&&(h(t),h(r)),be(l,i),~s&&m[s].d(i)}}}function Ne(c){let t,s;return{c(){t=new X(!1),s=R(),this.h()},l(e){t=Y(e,!1),s=R(),this.h()},h(){t.a=s},m(e,r){t.m(c[2],e,r),I(e,s,r)},p:z,d(e){e&&(h(s),t.d())}}}function ze(c){let t,s,e,r,$;return t=new fe({props:{name:"store"}}),{c(){P(t.$$.fragment),s=H(),e=new X(!1),r=R(),this.h()},l(o){j(t.$$.fragment,o),s=M(o),e=Y(o,!1),r=R(),this.h()},h(){e.a=r},m(o,l){A(t,o,l),I(o,s,l),e.m(c[3],o,l),I(o,r,l),$=!0},p:z,i(o){$||(k(t.$$.fragment,o),$=!0)},o(o){C(t.$$.fragment,o),$=!1},d(o){o&&(h(s),h(r),e.d()),T(t,o)}}}function Re(c){let t,s,e,r,$,o;return s=new fe({props:{name:"index"}}),{c(){t=Z("styles / "),P(s.$$.fragment),e=H(),r=new X(!1),$=R(),this.h()},l(l){t=ee(l,"styles / "),j(s.$$.fragment,l),e=M(l),r=Y(l,!1),$=R(),this.h()},h(){r.a=$},m(l,f){I(l,t,f),A(s,l,f),I(l,e,f),r.m(c[4],l,f),I(l,$,f),o=!0},p:z,i(l){o||(k(s.$$.fragment,l),o=!0)},o(l){C(s.$$.fragment,l),o=!1},d(l){l&&(h(t),h(e),h($),r.d()),T(s,l)}}}function Oe(c){let t,s,e,r,$,o,l,f,v,m,d,i,g;return t=new Pe({props:{classs:"bd=1px_solid_black xh=15 "+Ee.scrollbar.primary,onlast:c[5],ready:c[0]===1,$$slots:{default:[Be]},$$scope:{ctx:c}}}),r=new G({props:{isCode:!0,$$slots:{default:[Ne]},$$scope:{ctx:c}}}),f=new G({props:{isCode:!0,$$slots:{default:[ze]},$$scope:{ctx:c}}}),i=new G({props:{isCode:!0,$$slots:{default:[Re]},$$scope:{ctx:c}}}),{c(){P(t.$$.fragment),s=H(),e=B("div"),P(r.$$.fragment),$=H(),o=B("div"),l=H(),P(f.$$.fragment),v=H(),m=B("div"),d=H(),P(i.$$.fragment),this.h()},l(p){j(t.$$.fragment,p),s=M(p),e=N(p,"DIV",{});var u=V(e);j(r.$$.fragment,u),$=M(u),o=N(u,"DIV",{class:!0}),V(o).forEach(h),l=M(u),j(f.$$.fragment,u),v=M(u),m=N(u,"DIV",{class:!0}),V(m).forEach(h),d=M(u),j(i.$$.fragment,u),u.forEach(h),this.h()},h(){E(o,"class","h=1"),E(m,"class","h=1")},m(p,u){A(t,p,u),I(p,s,u),I(p,e,u),A(r,e,null),D(e,$),D(e,o),D(e,l),A(f,e,null),D(e,v),D(e,m),D(e,d),A(i,e,null),g=!0},p(p,u){const O={};u&1&&(O.ready=p[0]===1),u&1027&&(O.$$scope={dirty:u,ctx:p}),t.$set(O);const te={};u&1024&&(te.$$scope={dirty:u,ctx:p}),r.$set(te);const se={};u&1024&&(se.$$scope={dirty:u,ctx:p}),f.$set(se);const ne={};u&1024&&(ne.$$scope={dirty:u,ctx:p}),i.$set(ne)},i(p){g||(k(t.$$.fragment,p),k(r.$$.fragment,p),k(f.$$.fragment,p),k(i.$$.fragment,p),g=!0)},o(p){C(t.$$.fragment,p),C(r.$$.fragment,p),C(f.$$.fragment,p),C(i.$$.fragment,p),g=!1},d(p){p&&(h(s),h(e)),T(t,p),T(r),T(f),T(i)}}}function Ue(c){let t,s;return t=new Le({props:{$$slots:{default:[Oe]},$$scope:{ctx:c}}}),{c(){P(t.$$.fragment)},l(e){j(t.$$.fragment,e)},m(e,r){A(t,e,r),s=!0},p(e,[r]){const $={};r&1027&&($.$$scope={dirty:r,ctx:e}),t.$set($)},i(e){s||(k(t.$$.fragment,e),s=!0)},o(e){C(t.$$.fragment,e),s=!1},d(e){T(t,e)}}}function We(c,t,s){let e;ge(c,U,m=>s(1,e=m));const r=`${x("script",` ${a("lang")}=${b("ts")}`,`
${_("import")} ${a("H1")} ${_("from")} ${b("cells/typography/H1.svelte")}
${_("import")} ${a("InfiniteScroll")} ${_("from")} ${b("organs/@common/utils/InfiniteScroll.svelte")}
${_("import")} ${a("IRefresh")} ${_("from")} ${b("cells/svgs/i_refresh.svelte")}
${_("import")} ${a("LoadingCircle")} ${_("from")} ${b("src/instant-ui/animations/LoadingCircle.svelte")}
${_("import")} ${a("styles")} ${_("from")} ${b("src/styles")}
${_("import")} ${n("{")} ${a("contents$")} ${n("}")} ${_("from")} ${b("parts/ref/store")}
${_("import")} ${n("{")} ${a("onDestroy")}, ${a("onMount")} ${n("}")} ${_("from")} ${b("svelte")}

${w("let")} ${a("loading")} = ${L(1)} ${De("// 0: in progress, 1: none, 2: error")}
${w("const")} ${a("loremApi",!0)}: ${n("(")}${a("i")}: ${S("number")}, ${a("n")}: ${S("number")}${n(")")} ${w("=>")} ${S("Promise")}${n("<")}${S("any")}${n(">")} = ${n("(")}${a("i")}: ${S("number")}, ${a("n")}: ${S("number")}${n(")")} ${w("=>")} ${w("new")} ${S("Promise")}${n("(")}${n("(",1)}${y("resolve")}, ${y("reject")}${n(")",1)} ${w("=>")} ${y("setTimeout")}${n("(",1)}${n("()",2)} ${w("=>")} ${n("{",2)}
	${w("const")} ${a("r",!0)} = ${a("Math")}.${y("random")}${n("()")}
	${_("if")} ${n("(")}${a("i")} && ${a("r",!0)} < ${L(.3)}${n(") {")}
		${y("reject")}${n("(",1)}${b("`error:",!1)} ${w("${")}${a("r",!0)}${w("}")} ${b("< 0.3`",!1)}${n(")",1)}
	${n("}")} ${_("else")} ${n("{")}
		${w("const")} ${a("contents",!0)} = ${n("[]",1)}
		${_("while")} ${n("(",1)}${a("n")}-- > ${L(0)}${n(") {",1)}
			${a("contents",!0)}.${y("push")}${n("(",2)}${n("{")} ${a("title:")} ${b("title ")} + ++${a("i")}, ${a("content:")} ${b("Lorem Ipsum is . . . . . . of Lorem Ipsum.")} ${n("}")}${n(")",2)}
		${n("}",1)}
		${y("resolve")}${n("(",1)}${a("contents",!0)}${n(")",1)}
	${n("}",0)}
${n("}",2)}, ${a("i")} ? ${L(600)} : ${L(0)}${n(")",1)}${n(")")}
${w("const")} ${y("loadContents")} = ${n("()")} ${w("=>")} ${n("{")}
	${_("if")} ${n("(",1)}${a("loading")}${n(") {",1)}
		${a("loading")} = ${L(0)}
		${a("loremApi",!0)}.${y("promise")}${n("(",2)}${a("$contents$")}.${a("length")}, ${L(5)}${n(")",2)}
			.${y("set")}${n("(",2)}${a("value")} ${w("=>")} ${n("{")}
				${a("$contents$")} = ${a("$contents$")}.${y("concat")}${n("(",1)}${a("value")}${n(")",1)}
				${a("loading")} = ${L(1)}
			${n("}")}${n(")",2)}
			.${y("catch")}${n("(",2)}${n("()")} ${w("=>")} ${a("loading")} = ${L(2)}${n(")",2)}
	${n("}",1)}
${n("}")}
${y("onMount")}${n("(")}${n("()",1)} ${w("=>")} ${a("loremApi",!0)}.${y("promise")}${n("(",1)}${L(0)}, ${L(10)}${n(")",1)}.${y("then")}${n("(",1)}${a("value")} ${w("=>")} ${a("$contents$")} = ${a("value")}${n(")",1)}${n(")")}
${y("onDestroy")}${n("(")}${n("()",1)} ${w("=>")} ${a("$contents$")} = ${n("[]",1)}${n(")")}
`)}

${x("InfiniteScroll",` ${a("classs")}=${b('"bd=1px_solid_black xh=15',!1)} ${n("{",2)}${a("styles")}.${a("scrollbar")}.${a("primary")}${n("}",2)}${b('"',!1)}
		${a("onlast")}=${n("{")}${y("loadContents")}${n("}")}
		${a("ready")}=${n("{")}${a("loading")} === ${L(1)}${n("}")}`,`
	${n("{")}#${_("each")} ${a("$contents$")} ${_("as")} ${a("c")}${n("}")}
		${x("div","",`
			${x("H1","",`${n("{")}${a("c")}.${a("title")}${n("}")}`)}
			${x("span","",`${n("{")}${a("c")}.${a("content")}${n("}")}`)}
		`)}
	${n("{")}/${_("each")}${n("}")}
	${n("{")}#${_("if")} !${a("loading")}${n("}")}
		${x("div",` ${a("class")}=${b("flex h=6.5 jc=center")}`,`
			${x("LoadingCircle","",!1)}
		`)}
	${n("{")}:${_("else if")} ${a("loading")} === ${L(2)}${n("}")}
		${x("div",` ${a("class")}=${b("relative flex h=6.5 jc=center ai=center")}`,`
			${x("div",` ${a("class")}=${b("w=6 absolute")}`,`
				${x("IRefresh",` ${a("classs")}=${b("f=#88888888")}`,!1)}
			`)}
			${x("button",` ${a("class")}=${b("absolute fs=1.5 bold")} ${_("on")}:${S("click")}=${n("{")}${y("loadContents")}${n("}")}`,"server error")}
		`)}
	${n("{")}/${_("if")}${n("}")}
`)}`,$=`

${_("import")} ${n("{")} ${a("writable")}, ${_("type")} ${a("Writable")} ${n("}")} ${_("from")} ${b("svelte/store")}

${_("export")} ${w("const")} ${a("contents$",!0)}: ${S("Writable")}${n("<")}${n("{",1)} ${a("title")}: ${S("string")}, ${a("content")}: ${S("string")} ${n("}[]",1)}${n(")")} = ${y("writable")}${n("(")}${n("[]",1)}${n(")")}`,o=`

${_("export default")} ${n("{")}
	${a("scrollbar:")} ${n("{",1)}
		${a("primary:")} ${b("::-webkit-scrollbar/w=.5 ::-webkit-scrollbar-track/bg=--primary-55 ::-webkit-scrollbar-thumb/bg=--primary;br=.25")}
	${n("}",1)}
${n("}")}`;let l=1;const f=(m,d)=>new Promise((i,g)=>setTimeout(()=>{const p=Math.random();if(m&&p<.3)g(`error: ${p} < 0.3`);else{const u=[];for(;d-- >0;)u.push({title:"title "+ ++m,content:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."});i(u)}},m?600:0)),v=()=>{l&&(s(0,l=0),f(e.length,5).then(m=>{Q(U,e=e.concat(m),e),s(0,l=1)}).catch(()=>s(0,l=2)))};return ie(()=>f(0,10).then(m=>Q(U,e=m,e))),ve(()=>Q(U,e=[],e)),[l,e,r,$,o,v]}class qe extends q{constructor(t){super(),F(this,t,We,Ue,W,{})}}function Fe(c){let t,s,e;return s=new qe({}),{c(){t=H(),P(s.$$.fragment),this.h()},l(r){ke("svelte-120ri7c",document.head).forEach(h),t=M(r),j(s.$$.fragment,r),this.h()},h(){document.title="Infinite Scroll | Reference"},m(r,$){I(r,t,$),A(s,r,$),e=!0},p:z,i(r){e||(k(s.$$.fragment,r),e=!0)},o(r){C(s.$$.fragment,r),e=!1},d(r){r&&h(t),T(s,r)}}}class rt extends q{constructor(t){super(),F(this,t,null,Fe,W,{})}}export{rt as component};
